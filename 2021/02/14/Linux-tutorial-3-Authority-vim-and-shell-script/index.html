<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Linux tutorial 3 - Authority, vim and shell script | Data science exhibition</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="We are going to write a program to execute the commands we have learned. There are three things need to understand beforehand, authority, vim and shell script.">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux tutorial 3 - Authority, vim and shell script">
<meta property="og:url" content="https://bnbsking.github.io/2021/02/14/Linux-tutorial-3-Authority-vim-and-shell-script/index.html">
<meta property="og:site_name" content="Data science exhibition">
<meta property="og:description" content="We are going to write a program to execute the commands we have learned. There are three things need to understand beforehand, authority, vim and shell script.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/command7.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/command8.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/command9.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/sh1.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/sh2.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/sh3.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/sh4.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/sh5.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/sh6.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/sh7.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/sh8.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/sh9.png">
<meta property="og:image" content="https://bnbsking.github.io/images/linux/sh10.png">
<meta property="article:published_time" content="2021-02-14T12:44:00.000Z">
<meta property="article:modified_time" content="2021-02-15T15:13:58.758Z">
<meta property="article:author" content="James Chao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://bnbsking.github.io/images/linux/command7.png">
  
    <link rel="alternate" href="/atom.xml" title="Data science exhibition" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Data science exhibition</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">short is better</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://bnbsking.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-Linux-tutorial-3-Authority-vim-and-shell-script" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/14/Linux-tutorial-3-Authority-vim-and-shell-script/" class="article-date">
  <time class="dt-published" datetime="2021-02-14T12:44:00.000Z" itemprop="datePublished">2021-02-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Linux tutorial 3 - Authority, vim and shell script
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>We are going to write a program to execute the commands we have learned. There are three things need to understand beforehand, authority, vim and shell script. </p>
<a id="more"></a>

<h1 id="Authority"><a href="#Authority" class="headerlink" title="Authority"></a>Authority</h1><p>The most cardinal feature in Linux is the authority. We can use <code>ls -l</code> or <code>ll</code> to list the file and its permission in the current working directory. The owner and the group owner are shown at the third and the fourth column. </p>
<p><img src="/images/linux/command7.png"></p>
<table>
<thead>
<tr>
<th>digit</th>
<th>possibility</th>
<th>meaning</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>d, -</td>
<td>whether it is a directory</td>
</tr>
<tr>
<td>2-4</td>
<td>r,w,x</td>
<td>the permission of “owner”</td>
</tr>
<tr>
<td>5-7</td>
<td>r,w,x</td>
<td>the permission of “group owner”</td>
</tr>
<tr>
<td>8-10</td>
<td>r,w,x</td>
<td>the permission of “others”</td>
</tr>
</tbody></table>
<p>The 2 to 10 digits in first column are all in <code>r</code>, <code>w</code> or <code>x</code>.</p>
<table>
<thead>
<tr>
<th>permission</th>
<th>meaning</th>
<th>2-based</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>readable</td>
<td>r– = 100 = 4_2</td>
</tr>
<tr>
<td>w</td>
<td>writable</td>
<td>-w- = 010 = 2_2</td>
</tr>
<tr>
<td>x</td>
<td>executable</td>
<td>–x = 001 = 1_2</td>
</tr>
</tbody></table>
<p>Since the digit are all in boolean type, it can be presented as three decimal number with each digit (0-7) means the permission of owner, group and others. The command <code>chmod</code> change the permission of a file. For example, <code>chmod 664 a.txt</code> changes the authority of a.txt. Let both owner and group owner can both read and write, and the others can read only.</p>
<p><img src="/images/linux/command8.png"></p>
<p>The command <code>chown</code> change the owner of a file. For example, <code>chown root a.txt</code> changes the owner from bobo to root user.</p>
<p><img src="/images/linux/command9.png"></p>
<h1 id="Apt-and-Vim"><a href="#Apt-and-Vim" class="headerlink" title="Apt and Vim"></a>Apt and Vim</h1><p>Vim is an very useful text editor. However, it has to be installed from the internet. The apt tool is most recommended for installing package in Ubuntu. It helps you to download the package with its dependency from the Internet and install automatically.</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install vim</span><br><span class="line">vim a.txt</span><br></pre></td></tr></table></figure>
<p>You will see a text editor in terminal. There are two modes in vim, <font color=#FF0000>normal mode (default)</font>  and <font color=#FF0000>insertion mode (only this mode can be edited)</font>. <font color=#0000FF>Press <code>a</code> or <code>i</code> to switch from normal mode to insertion mode and press <code>Esc</code> to switch back</font>.</p>
<p><font color=#0000FF>The <code>:w</code> in normal mode means saving the file, and the <code>:q</code> in normal mode means quit. They can be combined as <code>:wq</code> as well.</font> If you want to discard the changes without saving, just type <code>:q!</code> to quit mandatory.</p>
<p>There are several hot key in Vim, such as <code>dd</code> (cut in normal mode) and <code>p</code> (paste in normal mode).</p>
<h1 id="Shell-script"><a href="#Shell-script" class="headerlink" title="Shell script"></a>Shell script</h1><p>Now its time for writing a script to execute the Linux command. Use <code>touch</code> command to create a empty text file and change it to executable file.</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch test.sh</span><br><span class="line">chmod 744 test.sh</span><br></pre></td></tr></table></figure>
<p>Open the shell script by a text editor (i.e. <code>vim test.sh</code>) and type the following (You need to press <code>a</code> or <code>i</code> to switch to the editing mode). The first line of a shell script specified the launcher. It is usually written as <code>!#/bin/bash</code>.</p>
<p><img src="/images/linux/sh1.png"></p>
<p>Next, press <code>:wq</code> to save and quit. We can use <code>cat test.sh</code> to verify the edition. Then execute the shell script by <code>./test.sh</code>. The <code>./</code> is necessery because the test.sh isn’t the system command so we have to specify the path of the shell script.</p>
<p><img src="/images/linux/sh2.png"></p>
<h2 id="Comments-and-variables"><a href="#Comments-and-variables" class="headerlink" title="Comments and variables"></a>Comments and variables</h2><p>We use the bash to execute the shell script. It also supports the condition and loop similar to the general purpose languages. </p>
<p>There are several differents bewteen the general purpose language and bash commands.</p>
<ul>
<li>The equal sign <font color=#FF0000>cannot</font> allow spaces on both sides while the declaration. i.e. <code>a=1</code> is valid but <code>a = 1</code> not.</li>
<li>The dollar sign is necessery to be used while using declared variable. <font color=#0000FF>Furthermore, all the variables are in string type in default, and number variables must be used with $(()).</font></li>
<li>The text in ‘’ are pure string. <font color=#0000FF> i.e. ‘$a’ is pure string, but “$a” is calling the variable, so does $a.</font></li>
</ul>
<p><img src="/images/linux/sh3.png"></p>
<p>The linux commands we have learned before are all valid in shell script, and there are further commands that is useful.</p>
<table>
    <tr> <td style="font-weight:bold">Commands</td> <td style="font-weight:bold">Description</td> </tr>
    <tr> <td>#</td> <td>One line comment. (Exclude the #!/bin/bash in the first line)</td></tr>
    <tr> <td>:＜＜！text！</td> <td>Multiline comment</td> </tr>
</table>

<h2 id="input-and-output"><a href="#input-and-output" class="headerlink" title="input and output"></a>input and output</h2><p><img src="/images/linux/sh4.png"></p>
<p>Note that the second argument of the command <code>read -p</code> is the variable stores the user’s input, so we have to use ‘’ to let the first argument ‘who are you?’ be a pure string.</p>
<h2 id="arithmetic"><a href="#arithmetic" class="headerlink" title="arithmetic"></a>arithmetic</h2><p><img src="/images/linux/sh5.png"></p>
<p>Remember that the default type we called is string, so we have to use $(()) to convert it to number. Shell script also supports <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> (integer division).</p>
<h2 id="if-else"><a href="#if-else" class="headerlink" title="if else"></a>if else</h2><p>Here is an example. Note that <font color=#FF0000> the operands, the operators and the brackets in the condition must remain space for each other. It is different from variable declaration. </font></p>
<p>More conditions are in the following table.</p>
<table>
<thead>
<tr>
<th>Conditions</th>
<th>Meaning</th>
</tr>
</thead>
<tbody><tr>
<td>-eq, ==</td>
<td>equal</td>
</tr>
<tr>
<td>-ne, !=</td>
<td>not equal</td>
</tr>
<tr>
<td>-gt</td>
<td>greater than</td>
</tr>
<tr>
<td>-ge</td>
<td>greater or equal than</td>
</tr>
<tr>
<td>-lt</td>
<td>less than</td>
</tr>
<tr>
<td>-le</td>
<td>less or equal than</td>
</tr>
</tbody></table>
<p><img src="/images/linux/sh6.png"></p>
<h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><p><img src="/images/linux/sh7.png"></p>
<h2 id="while"><a href="#while" class="headerlink" title="while"></a>while</h2><p><img src="/images/linux/sh8.png"></p>
<h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><p><img src="/images/linux/sh9.png"></p>
<p>The argument of a function doesn’t need to specify in the (). Use ${num} to call the input. However, ${0} is the command of calling the script.</p>
<h2 id="Outer-arguments"><a href="#Outer-arguments" class="headerlink" title="Outer arguments"></a>Outer arguments</h2><p>The outer arguments are frequently used in software development. See the following example. </p>
<p><img src="/images/linux/sh10.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://bnbsking.github.io/2021/02/14/Linux-tutorial-3-Authority-vim-and-shell-script/" data-id="ckl8185180006gk7kdk1e9x08" data-title="Linux tutorial 3 - Authority, vim and shell script" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/02/15/Linux-tutorial-4-Automation-and-environmental-path/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Linux tutorial 4 - Automation and environmental path
        
      </div>
    </a>
  
  
    <a href="/2021/02/06/Linux-tutorial-2-File-system-and-basic-commands/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Linux tutorial 2 - File system and basic commands</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Github-x-Hexo/">Github x Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/02/16/AI-image-object-detection-by-Yolov3-x-Keras/">AI image - object detection by Yolov3 x Keras</a>
          </li>
        
          <li>
            <a href="/2021/02/16/Linux-tutorial-5-SSH-and-SCP-Safe-connection-with-other-machines/">Linux tutorial 5 - SSH and SCP: Safe connection with other machines</a>
          </li>
        
          <li>
            <a href="/2021/02/15/Linux-tutorial-4-Automation-and-environmental-path/">Linux tutorial 4 - Automation and environmental path</a>
          </li>
        
          <li>
            <a href="/2021/02/14/Linux-tutorial-3-Authority-vim-and-shell-script/">Linux tutorial 3 - Authority, vim and shell script</a>
          </li>
        
          <li>
            <a href="/2021/02/06/Linux-tutorial-2-File-system-and-basic-commands/">Linux tutorial 2 - File system and basic commands</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 James Chao<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>